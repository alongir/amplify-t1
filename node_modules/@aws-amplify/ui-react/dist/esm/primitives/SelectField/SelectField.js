import{__rest as e}from"tslib";import{jsxs as r,jsx as i}from"react/jsx-runtime";import*as s from"react";import t from"classnames";import{ComponentClassNames as o}from"../shared/constants.js";import"../Field/FieldClearButton.js";import{FieldDescription as l}from"../Field/FieldDescription.js";import{FieldErrorMessage as d}from"../Field/FieldErrorMessage.js";import{Flex as a}from"../Flex/Flex.js";import{Label as n}from"../Label/Label.js";import{Select as m}from"../Select/Select.js";import{splitPrimitiveProps as p}from"../utils/splitPrimitiveProps.js";import{useStableId as c}from"../utils/useStableId.js";const h=({children:e,options:r})=>e?((null==r?void 0:r.length)&&console.warn("Amplify UI: <SelectField> component  defaults to rendering children over `options`. When using the `options` prop, omit children."),e):null==r?void 0:r.map(((e,r)=>i("option",Object.assign({label:e,value:e},{children:e}),`${e}-${r}`))),f=s.forwardRef(((s,f)=>{const{children:b,className:j,descriptiveText:u,errorMessage:F,hasError:g=!1,id:v,label:S,labelHidden:x=!1,options:y,size:E,testId:I,inputStyles:z}=s,H=e(s,["children","className","descriptiveText","errorMessage","hasError","id","label","labelHidden","options","size","testId","inputStyles"]),M=c(v),N=c(),O=u?N:void 0,{styleProps:P,rest:T}=p(H);return r(a,Object.assign({className:t(o.Field,o.SelectField,j),"data-size":E,testId:I},P,{children:[i(n,Object.assign({htmlFor:M,visuallyHidden:x},{children:S})),i(l,{id:N,labelHidden:x,descriptiveText:u}),i(m,Object.assign({"aria-describedby":O,hasError:g,id:M,ref:f,size:E},T,z,{children:h({children:b,options:y})})),i(d,{hasError:g,errorMessage:F})]}))}));f.displayName="SelectField";export{f as SelectField};
