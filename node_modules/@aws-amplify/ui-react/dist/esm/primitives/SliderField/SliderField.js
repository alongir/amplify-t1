import{__rest as e}from"tslib";import{jsx as r,jsxs as i}from"react/jsx-runtime";import l from"classnames";import{Root as a,Track as t,Range as o,Thumb as s}from"@radix-ui/react-slider";import*as d from"react";import{isFunction as n,classNameModifier as m}from"../shared/utils.js";import{ComponentClassNames as c}from"../shared/constants.js";import"../Field/FieldClearButton.js";import{FieldDescription as u}from"../Field/FieldDescription.js";import{FieldErrorMessage as p}from"../Field/FieldErrorMessage.js";import{FieldGroup as b}from"../FieldGroup/FieldGroup.js";import{Flex as f}from"../Flex/Flex.js";import{Label as g}from"../Label/Label.js";import{splitPrimitiveProps as F}from"../utils/splitPrimitiveProps.js";import{View as S}from"../View/View.js";import{useStableId as h}from"../utils/useStableId.js";const C="slider-label",j="slider-root",k="slider-track",v="slider-range",T=d.forwardRef(((C,j)=>{var{ariaValuetext:k,className:v,defaultValue:T=0,descriptiveText:V,emptyTrackColor:x,errorMessage:y,filledTrackColor:N,formatValue:E,hasError:O=!1,id:z,isDisabled:H,isValueHidden:R=!1,label:I,labelHidden:M=!1,onChange:w,orientation:D="horizontal",outerEndComponent:G,outerStartComponent:L,testId:P,thumbColor:B,trackSize:q,value:A,size:J}=C,K=e(C,["ariaValuetext","className","defaultValue","descriptiveText","emptyTrackColor","errorMessage","filledTrackColor","formatValue","hasError","id","isDisabled","isValueHidden","label","labelHidden","onChange","orientation","outerEndComponent","outerStartComponent","testId","thumbColor","trackSize","value","size"]);const Q=h(z),U=h(),W=h(),X=V?W:void 0,{styleProps:Y,rest:Z}=F(K),$=void 0!==A,[_,ee]=d.useState($?A:T),re=$?[A]:void 0,ie=$?void 0:[T],le=d.useCallback((e=>{ee(e[0]),n(w)&&w(e[0])}),[w]),ae=d.useMemo((()=>{const e=n(E)?E(_):_;return"string"==typeof E?r(S,Object.assign({as:"span"},{children:e})):e}),[_,E]),te="vertical"===D,oe=l(c.SliderFieldTrack,m(c.SliderFieldTrack,D),m(c.SliderFieldTrack,J)),se=l(c.SliderFieldRoot,m(c.SliderFieldRoot,D),m(c.SliderFieldRoot,J),v);return i(f,Object.assign({className:l(c.Field,c.SliderField),testId:P,"data-size":J},Y,{children:[i(g,Object.assign({className:c.SliderFieldLabel,id:U,testId:"slider-label",visuallyHidden:M},{children:[r(S,Object.assign({as:"span"},{children:I})),R?null:ae]})),r(u,{id:W,labelHidden:M,descriptiveText:V}),r(b,Object.assign({className:c.SliderFieldGroup,id:Q,orientation:D,outerStartComponent:L,outerEndComponent:G},{children:i(a,Object.assign({className:se,"data-testid":"slider-root",disabled:H,defaultValue:ie,onValueChange:le,orientation:D,ref:j,value:re},Z,{children:[r(t,Object.assign({className:oe,"data-testid":"slider-track",style:{backgroundColor:String(x),[""+(te?"width":"height")]:q}},{children:r(o,{className:l(c.SliderFieldRange,m(c.SliderFieldRange,D)),"data-testid":"slider-range",style:{backgroundColor:String(N)}})})),r(s,{"aria-describedby":X,"aria-labelledby":U,"aria-valuetext":k,className:l(c.SliderFieldThumb,m(c.SliderFieldThumb,J)),style:{backgroundColor:String(B)}})]}))})),r(p,{hasError:O,errorMessage:y})]}))}));T.displayName="SliderField";export{C as SLIDER_LABEL_TEST_ID,v as SLIDER_RANGE_TEST_ID,j as SLIDER_ROOT_TEST_ID,k as SLIDER_TRACK_TEST_ID,T as SliderField};
